- BasicErrorController는 스프링부트가 제공해주는 기본 에러 컨트롤러로 페이지 기반의 에러 처리를 하기에는 좋지만
JSON 기반의 에러 처리는 세밀하고 복잡하게 처리해야 해서 맞지 않다

스프링 부트는 기본 에러 페이지를 /error 로 등록한다
BasicErrorController에서 json 헤더인 경우 json 형식으로 보내는 로직까지 구현되어 있어 json 으로 요청시 json 응답이 온다

스프링 부트가 기본으로 등록한 에러 페이지가 /error 로 서블릿에 등록되어 있고 json 요청의 경우, 아무런 추가 설정도 안하면
어떤 예외가 가든 기본 에러 페이지인 /error로 매핑되어서 서블릿이 /error로 요청을 보내고 BasicErrorController에 있는 
/error json 요청으로 매핑되서 json 응답이 나오는 것이다!
/error 동일한 경로를 처리하는 errorHtml(), error() 두 메서드를 확인할 수 있다


스프링 부트 기본 설정을 사용하면 기본 에러 페이지를 등록해주고 모든 예외에 대해서 기본 에러 페이지 (/error)를 호출한다
그러면 BasicErrorController가 헤더 값을 보고 HTML, JSON 에러 응답을 해주는 것
하지만 사용자 정의 에러 페이지를 만들면 특정 에러 유형에 따른 에러 페이지와 매핑 정보를 등록해야 되고 에러 전용 컨트롤러도 만들어야 된다
사용자 정의 컨트롤러에 JSON 헤더를 처리하는 것이 없으면 JSON 응답을 반환하지도 않을 것이다!

에러 페이지를 직접 등록하면 스프링 부트 자동 설정이 먹히지 않아서 동작을 안한다?

- 웹 브라우저에 HTML 화면을 제공할 때는 오류가 발생하면 BasicErrorController를 사용하는게 편하다

그런데 API는 각 시스템 마다 응답의 모양이 다르고, 스펙도 모두 다르다
예외에 따라서 각각 다른 데이터를 출력해야 할 수도 있다, 그리고 같은 예외라고 해도 어떤 컨트롤러에서 발생했는가에 따라서
다른 예외 응답을 내려주어야 할 수 있다
현재 우리가 구현한 UserHandlerExceptionReoslver에서 필요한 정보들이 다 있으니 컨트롤러에 따라서 다른 응답을 내려줄 수야
있긴 하겠지만 코드가 너무 복잡해지고 유지보수성이 떨어진다

